---
title: '컨테이너를 사용해 웹 사이트 호스팅하기'
categoryPath:
  - 'Docker'
  - '2장 도커의 기본적인 사용법'
  - '2.4 컨테이너를 사용해 웹 사이트 호스팅하기'
authorNick: '관리자'
createdAt: '2025-08-10'
updateMode: 'upsert'
---

# 컨테이너를 사용해 웹 사이트 호스팅하기

대화식 컨테이너로서 컨테이너를 실행 후 세션이 종료되면 컨테이너도 종료되었습니다. ``docker container ls --all`` 명령어를 사용하면 실행중이 아닌 컨테이너까지 모두 출력되는데 이때 종료된 컨테이너는 ``Exited``상태로 출력됩니다.

또한 컨테이너가 종료되더라도 명시적으로 컨테이너를 직접 삭제하지 않는 이상 컨테이너가 사라지지는 않는다는 것을 확인할 수 있습니다. 이는 컨테이너의 파일 시스템 역시 그대로 남아 있기에 호스트 컴퓨터의 디스크 공간을 계속 점유합니다.

```
docker container run --detach --publish 8088:80 diamol/ch02-hello-diamol-web
Unable to find image 'diamol/ch02-hello-diamol-web:latest' locally
latest: Pulling from diamol/ch02-hello-diamol-web
af7e90cfff46: Download complete
d632c8441234: Download complete
3e84dc11ea39: Download complete
f84cab65f19f: Download complete
87259b7246e5: Download complete
0fcb24848396: Download complete
Digest: sha256:fe5a4c954fe2df5cadeea304ab632533f8ece9e31bd219ea22fdbf8b597571eb
Status: Downloaded newer image for diamol/ch02-hello-diamol-web:latest
0130cba5a047cef3a77fabefc7d2357f1de8108bbd6e7a2287ad113f2d282596

docker container ls
CONTAINER ID   IMAGE                          COMMAND              CREATED              STATUS              PORTS                  NAMES
0130cba5a047   diamol/ch02-hello-diamol-web   "httpd-foreground"   About a minute ago   Up About a minute   0.0.0.0:8088->80/tcp   agitated_euler
```

위와 같이 컨테이너 id만 출력 후에 종료되지만, 컨테이너는 종료되지 않고 백그라운드에서 계속 동작합니다.

>  ``--detach`` - 컨테이너가 백그라운드에서 계속 동작합니다

> ``--publish`` - 컨테이너의 포트를 호스트에 공개합니다

## 포트 매핑의 이해

```
호스트 컴퓨터:8080 ──────► 컨테이너:80
```

도커를 설치하면 호스트 컴퓨터의 **네트워크 계층에 도커가 끼어들게** 됩니다.
위에서 실행한 컨테이너는 백그라운드에서 동작하며 도커가 네트워크를 주시(*listen*)하여 공개된 포트를 통하여 호스트의 네트워크 트래픽을 가로채서 전달해줍니다. 

```
물리 네트워크 (192.168.1.x)
    ↓
호스트 컴퓨터 (192.168.1.100)
    ↓
도커 내부 네트워크 (172.17.0.x)
    ↓
컨테이너들 (172.17.0.2, 172.17.0.3, ...)
```

위의 명령어는 도커가 호스트의 포트를 주시하다 해당 포트(8088)로 들어오는 트래픽을 컨테이너의 포트(80)로 전달해주는 의미입니다. 다만, 컨테이너의 ip주소에는 직접적으로 접근할 수 없는데, 이는 도커 내부에만 존재하는 가상의 주소이기 때문입니다.

1. 도커가 호스트의 8080 포트를 감시
2. 8080 포트로 들어오는 모든 트래픽을 캐치
3. 해당 트래픽을 컨테이너의 80 포트로 전달
4. 컨테이너의 응답을 다시 호스트의 8080 포트를 통해 외부로 전송

## 도커의 이식성과 효율성

간단한 웹페이지이지만, 웹서버와 함께 이미지로 패킹된 후에 공유되면 이미지 외에 다른 요소 필요없이 어떤 컴퓨터에서든 실행할 수 있습니다.

> 마무리로 ``docker container rm --force $(docker container ls --all --quiet)`` 명령어로 실행중인 컨테이너까지 모두 강제로 삭제합니다.

- --force - 실행중인 컨테이너라도 강제로 삭제


## 기본 웹서버 실행해보기

### Nginx 웹 서버 실행
```bash
docker run -d -p 8080:80 --name my-webserver nginx
```

### 명령어 상세 분석
- **-d**: 백그라운드 실행 (detached mode)
- **-p 8080:80**: 포트 포워딩 (호스트의 8080 포트 → 컨테이너의 80 포트)
- **--name my-webserver**: 컨테이너에 이름 부여
- **nginx**: 사용할 Docker 이미지

### 결과 확인
실행 후 브라우저에서 `http://localhost:8080`에 접속하면 Nginx 환영 페이지를 볼 수 있습니다.

## 정적 웹사이트 호스팅하기

### 1. HTML 파일 준비
```bash
# 작업 디렉토리 생성
mkdir ~/my-website
cd ~/my-website

# 간단한 HTML 페이지 생성
cat > index.html << EOF
<!DOCTYPE html>
<html>
<head>
    <title>My Docker Website</title>
    <style>
        body { font-family: Arial; text-align: center; padding: 50px; }
        h1 { color: #2196F3; }
    </style>
</head>
<body>
    <h1>🐳 Docker로 만든 웹사이트</h1>
    <p>이 페이지는 Docker 컨테이너에서 실행되고 있습니다!</p>
</body>
</html>
EOF
```

### 2. 볼륨 마운트로 웹사이트 실행
```bash
# 현재 디렉토리를 컨테이너의 웹 루트에 마운트
docker run -d -p 8080:80 \
  -v $(pwd):/usr/share/nginx/html \
  --name my-custom-site nginx

# 브라우저에서 http://localhost:8080 접속
```

## 다양한 웹 서버 실행하기

### Apache HTTP Server
```bash
docker run -d -p 8081:80 --name my-apache httpd
```

### Python 간단 웹서버
```bash
docker run -d -p 8082:8000 \
  -v $(pwd):/app -w /app \
  python:3.9-slim python -m http.server 8000
```

## 컨테이너 관리

### 실행 상태 확인
```bash
# 실행 중인 컨테이너 확인
docker ps

# 로그 확인
docker logs my-webserver

# 실시간 로그 스트림
docker logs -f my-webserver
```

### 컨테이너 중지 및 제거
```bash
# 컨테이너 중지
docker stop my-webserver

# 컨테이너 제거
docker rm my-webserver

# 한 번에 중지하고 제거
docker rm -f my-webserver
```

## 실습 미션

1. **기본 웹서버 실행**: Nginx로 기본 환영 페이지 표시하기
2. **커스텀 페이지 호스팅**: 자신만의 HTML 페이지 만들어서 호스팅하기
3. **여러 포트 사용**: 다른 포트에서 Apache도 동시에 실행하기
4. **로그 모니터링**: 웹사이트 접속 로그 실시간으로 확인하기

이제 웹 호스팅의 기초를 마스터했습니다! 다음 섹션에서는 Docker가 내부적으로 어떻게 동작하는지 알아보겠습니다.