---
title: "2.3 컨테이너를 원격 컴퓨터처럼 사용하기"
categoryPath:
  - "Docker"
  - "2장 도커의 기본적인 사용법"
  - "2.3 컨테이너를 원격 컴퓨터처럼 사용하기"
authorNick: "관리자"
createdAt: "2025-08-27"
updateMode: "upsert"
---

컨테이너의 가장 강력한 기능 중 하나는 마치 원격 서버에 접속한 것처럼 사용할 수 있다는 점입니다. SSH 없이도 완전히 격리된 Linux 환경에서 작업할 수 있습니다.

## 인터랙티브 컨테이너 기본 사용법

### 기본 명령어
```bash
docker run -it ubuntu bash
```

### 옵션 상세 설명

#### -i (--interactive)
- **표준 입력(STDIN)을 열어둠**
- 사용자의 키보드 입력을 컨테이너로 전달
- 이 옵션이 없으면 명령어 입력 불가

#### -t (--tty)
- **가상 터미널(pseudo-TTY) 할당**
- 터미널의 특수 기능 사용 가능 (색상, 커서 이동 등)
- 프롬프트가 정상적으로 표시됨

#### 옵션 조합의 효과
```bash
# -i만 사용: 입력은 가능하지만 터미널 기능 없음
docker run -i ubuntu bash

# -t만 사용: 터미널은 있지만 입력 불가
docker run -t ubuntu bash

# -it 조합: 완전한 인터랙티브 터미널
docker run -it ubuntu bash
```

## 다양한 운영체제 환경 체험

### Ubuntu 컨테이너 사용하기
```bash
docker run -it ubuntu:20.04 bash

# 컨테이너 내부에서
cat /etc/os-release
# Ubuntu 20.04 정보 출력
```

### CentOS 컨테이너 사용하기
```bash
docker run -it centos:7 bash

# 컨테이너 내부에서
cat /etc/redhat-release
# CentOS 7 정보 출력
```

### Alpine Linux (경량) 사용하기
```bash
docker run -it alpine sh

# Alpine은 bash가 기본 설치되지 않아 sh 사용
# 컨테이너 내부에서
cat /etc/alpine-release
```

### Debian 컨테이너 사용하기
```bash
docker run -it debian bash

# 컨테이너 내부에서
cat /etc/debian_version
```

## 컨테이너 내부에서 할 수 있는 작업들

### 1. 시스템 정보 확인
```bash
docker run -it ubuntu bash

# 컨테이너 내부에서 실행
whoami              # 현재 사용자 확인
hostname            # 호스트명 확인
pwd                 # 현재 디렉토리 확인
uname -a            # 시스템 정보 확인
df -h               # 디스크 사용량 확인
free -h             # 메모리 사용량 확인
```

### 2. 파일 시스템 탐색
```bash
# 루트 디렉토리 구조 확인
ls -la /

# 중요 디렉토리들 확인
ls /bin     # 기본 명령어들
ls /usr     # 사용자 프로그램들
ls /etc     # 설정 파일들
ls /var     # 가변 데이터
ls /tmp     # 임시 파일
```

### 3. 패키지 관리 시스템 사용

#### Ubuntu/Debian (apt)
```bash
docker run -it ubuntu bash

# 패키지 목록 업데이트
apt update

# 새로운 프로그램 설치
apt install -y curl wget nano git

# 설치된 패키지 확인
apt list --installed
```

#### CentOS/RHEL (yum)
```bash
docker run -it centos:7 bash

# 패키지 설치
yum update -y
yum install -y curl wget nano git

# 설치된 패키지 확인
yum list installed
```

#### Alpine Linux (apk)
```bash
docker run -it alpine sh

# 패키지 설치
apk update
apk add curl wget nano git

# 설치된 패키지 확인
apk info -vv | sort
```

### 4. 파일 편집 및 생성
```bash
# 간단한 텍스트 파일 생성
echo "Hello Docker World!" > /tmp/hello.txt

# 파일 내용 확인
cat /tmp/hello.txt

# nano 에디터 사용 (설치되어 있는 경우)
nano /tmp/config.txt

# 환경변수 설정
export MY_VAR="Hello Container"
echo $MY_VAR
```

### 5. 네트워크 작업
```bash
# 네트워크 도구 설치
apt update && apt install -y curl wget iputils-ping net-tools

# 외부 연결 테스트
ping -c 3 google.com

# 웹 페이지 다운로드
curl https://httpbin.org/ip

# 내부 IP 주소 확인
ifconfig
```

### 6. 프로세스 관리
```bash
# 실행 중인 프로세스 확인
ps aux

# 새로운 백그라운드 프로세스 실행
sleep 1000 &

# 프로세스 확인
ps aux | grep sleep

# 프로세스 종료
kill %1  # 또는 kill <PID>
```

## 실행 중인 컨테이너에 접속하기

### 컨테이너를 백그라운드로 실행
```bash
# nginx 컨테이너를 백그라운드로 실행
docker run -d --name my-nginx nginx

# 실행 중인 컨테이너 확인
docker ps
```

### 실행 중인 컨테이너에 접속
```bash
# exec 명령으로 실행 중인 컨테이너에 접속
docker exec -it my-nginx bash

# 컨테이너 내부에서 작업
ps aux          # nginx 프로세스 확인
ls /etc/nginx   # nginx 설정 파일 확인
exit            # 컨테이너에서 나가기 (컨테이너는 계속 실행됨)
```

### attach vs exec의 차이

#### docker attach
```bash
# 메인 프로세스에 직접 연결
docker attach my-container

# 주의: 메인 프로세스 종료 시 컨테이너도 종료됨
```

#### docker exec
```bash
# 새로운 프로세스를 실행하여 접속
docker exec -it my-container bash

# 안전: exit 해도 메인 프로세스는 계속 실행
```

## 유용한 컨테이너 관리 명령어

### 컨테이너 생명주기 관리
```bash
# 컨테이너 목록 확인
docker ps           # 실행 중인 컨테이너만
docker ps -a        # 모든 컨테이너 (중지된 것 포함)

# 컨테이너 시작/중지
docker start <container-name>
docker stop <container-name>
docker restart <container-name>

# 컨테이너 일시정지/재개
docker pause <container-name>
docker unpause <container-name>
```

### 컨테이너 정보 확인
```bash
# 컨테이너 상세 정보
docker inspect <container-name>

# 컨테이너 로그 확인
docker logs <container-name>
docker logs -f <container-name>  # 실시간 로그 보기

# 컨테이너 리소스 사용량 확인
docker stats <container-name>
```

## 실습: 개발 환경 구성해보기

### 1. Python 개발 환경
```bash
# Python 컨테이너 실행
docker run -it python:3.9 bash

# 컨테이너 내부에서
python --version
pip install requests pandas
python -c "import requests; print(requests.get('https://httpbin.org/ip').json())"
```

### 2. Node.js 개발 환경
```bash
# Node.js 컨테이너 실행
docker run -it node:16 bash

# 컨테이너 내부에서
node --version
npm --version
npm init -y
npm install express
```

### 3. Java 개발 환경
```bash
# OpenJDK 컨테이너 실행
docker run -it openjdk:11 bash

# 컨테이너 내부에서
java -version
javac -version
echo 'public class Hello { public static void main(String[] args) { System.out.println("Hello Docker!"); } }' > Hello.java
javac Hello.java
java Hello
```

## 데이터 지속성 문제와 해결방법

### 문제: 컨테이너 종료 시 데이터 소실
```bash
docker run -it ubuntu bash
# 파일 생성
echo "Important data" > /tmp/data.txt
exit

# 같은 이미지로 새 컨테이너 실행
docker run -it ubuntu bash
cat /tmp/data.txt  # 파일이 없음!
```

### 해결방법 1: 볼륨 마운트
```bash
# 호스트 디렉토리를 컨테이너에 마운트
mkdir -p ~/docker-data
docker run -it -v ~/docker-data:/data ubuntu bash

# 컨테이너 내부에서
echo "Persistent data" > /data/important.txt
exit

# 새 컨테이너에서도 데이터 유지됨
docker run -it -v ~/docker-data:/data ubuntu bash
cat /data/important.txt  # 파일이 존재함!
```

### 해결방법 2: 컨테이너 재사용
```bash
# 컨테이너에 이름을 지정하여 생성
docker run -it --name my-workspace ubuntu bash
echo "My work data" > /tmp/work.txt
exit

# 같은 컨테이너 재시작
docker start -ai my-workspace
cat /tmp/work.txt  # 파일이 유지됨
```

## 보안 고려사항

### 권한 관리
```bash
# 기본적으로 컨테이너 내부에서는 root 사용자
docker run -it ubuntu bash
whoami  # root

# 비-root 사용자로 실행
docker run -it --user 1000:1000 ubuntu bash
whoami  # 1000번 사용자
```

### 읽기 전용 파일시스템
```bash
# 읽기 전용으로 실행 (보안 강화)
docker run -it --read-only ubuntu bash
touch /tmp/test.txt  # 쓰기 금지 오류 발생
```

## 컨테이너를 서버처럼 사용하기의 장단점

### 장점
- **빠른 환경 구성**: 몇 초 안에 완전한 OS 환경
- **격리된 실험 환경**: 호스트 시스템에 영향 없음
- **일관된 환경**: 팀원 모두가 동일한 환경에서 작업
- **쉬운 정리**: 컨테이너 삭제로 모든 흔적 제거

### 단점
- **임시성**: 기본적으로 데이터가 보존되지 않음
- **성능**: 네이티브 설치보다 약간의 오버헤드
- **복잡한 설정**: 볼륨, 네트워크 등의 추가 설정 필요

## 마무리

컨테이너를 원격 컴퓨터처럼 사용하는 것은 Docker의 핵심 기능 중 하나입니다. 이를 통해 다양한 운영체제와 개발 환경을 빠르게 구성하고 실험할 수 있습니다. 

다음 섹션에서는 컨테이너를 사용해 실제 웹사이트를 호스팅하는 방법을 배워보겠습니다!
