---
title: '공식 이미지에서 골든 이미지로 전환하기'
categoryPath:
  - 'Docker'
  - '5장 나만의 도커 레지스트리 운영하기'
  - '5.5 공식 이미지에서 골든 이미지로 전환하기'
authorNick: '관리자'
createdAt: '2025-08-27'
updateMode: 'upsert'
---

# 공식 이미지에서 골든 이미지로 전환하기

## 👤 도커 이미지의 신뢰성

도커 허브와 같은 레지스트리는 누구나 이미지를 푸쉬할 수 있고, <br>
내려받을 수 있기에 해커의 관점에서 보면 멀웨어를 배포하기 쉬운 환경입니다.

이에 도커 허브에서는 검증된 퍼블리셔와 공식 이미지 제도를 통해 이러한 피해를 방지합니다.

## 🔐 검증된 퍼블리셔

마이크로소프트, 오라클, IBM 같은 신뢰할 수 있는 큰 기업의 경우 **검증된 퍼블리셔**로 지정하고, <br> 
이들의 이미지는 취약점 탐지등의 승인절차를 걸쳐 레지스트리에 공개가 됩니다. <br>

> 이미지는 도커와 해당 퍼블리셔의 지원을 받을 수 있다는걸 의미하며, <br>
> 컨테이너에서 최신 버전을 실행하려면 이러한 퍼블리셔가 배포한 이미지를 사용해야 합니다.

## 🍀 공식 이미지

공식 이미지는 보통 오픈소스 소프트웨어로, 프로젝트 개발팀과 도커가 함께 이미지를 관리합니다. <br>
공식 이미지 역시 취약점 탐색을 거치고 주기적인 업데이트와 최적화된 Dockerfile 스크립트로 구성됩니다. <br>

> 다만 오픈소스인만큼 공식이미지를 기반으로 자신만의 선호하는 이미지로 전환하는 <br>
> 시점이 오는데 이를 **골든 이미지(Golden Image)**라고 합니다.

## 🧈 골든 이미지(Golden Iamge)

**골든 이미지**는 *공식 이미지*를 기반으로 삼아 `인증서`나 `환경 설정값` 등 자신이 필요한 설정을 추가하게 됩니다.

골든 이미지는 도커 허브의 기업 리포지터리나 자체 리포지터리에서 관리되고 <br>
해당 기업의 모든 애플리케이션 이미지는 바로 이 골든 이미지를 기반 이미지로 합니다. <br>

> 즉, 프로젝트 개발팀과 도커가 함께 최적화한 공식 이미지의 이점을 그대로 누리면서 <br> 
> 필요한 설정을 커스터마이징 할 수 있습니다.


## 📍 공식 이미지와 골든 이미지의 차이점
| 구분 | 공식이미지 | 골든이미지 |
|------|-----------|-----------|
| 관리 주체 | 오픈소스 프로젝트 + 도커 | 기업 또는 조직 내부 |
| 목적 | 범용적이고 공개된 안전한 기본 이미지 제공 |조직 맞춤 설정 및 재사용을 위한 커스터마이징 |
| 업데이트 주기 |도커 측에서 정기적으로 릴리즈 | 조직에서 원하는 주기에 맞춰 관리 |
| 예시 | ``mcr.microsoft.com/dotnet/core/aspnet:3.0`` | ``golden/aspnet-core:3.0`` |


---

## ⚡ 직접 골드 이미지 사용해보기

### 예제 코드
 
> ```bash
> # dotnet-sdk/Dockerfile
> FROM mcr.microsoft.com/dotnet/core/sdk:3.0.100
> 
> LABEL framework="dotnet"
> LABEL version="3.0"
> LABEL description=".NET Core 3.0 SDK"
> LABEL owner="golden-images@sixeyed.com"
>
> WORKDIR src
> COPY global.json .
>
> # dotnet-sdk/global.json
> { 
>   "sdk": { 
>     "version": "3.0.100-preview6-012264"
>   }
> }
> 
> # 위에 있는 2개의 파일이 있는 경로에서 이미지 빌드
> ``docker image build -t golden/dotnet-core-sdk:3.0 .``
> ```

그 다음 아래의 Dockerfile을 새 폴더에 만들어준 뒤에 이미지를 빌드해줍니다.

```bash
# aspnet-runtime/Dockerfile
FROM mcr.microsoft.com/dotnet/core/aspnet:3.0

LABEL framework="dotnet"
LABEL version="3.0"
LABEL description=".NET Core 3.0 Runtime"
LABEL owner="golden-images@sixeyed.com"

EXPOSE 80

# build
docker image build -t golden/aspnet-core:3.0 .
```

이렇게 빌드된 이미지로 멀티 스테이지 빌드 스크립트를 작성해 보겠습니다.

```bash
FROM golden/dotnetcore-sdk:3.0 AS builder
COPY . .
RUN dotnet publish -o /out/app app.csproj

FROM golden/aspnet-core:3.0
COPY --from=builder /out /app
CMD ["dotnet", "/app/app.dll"]
```

골든 이미지 역시 다른 이미지들과 사용하는 방법이 크게 다르지 않습니다.
공식 이미지는 매달 새 버전이 릴리즈되지만, 골든 이미지는 업데이트의 주기를 <br>
마음대로 할 수 있다는 장점도 있습니다.


---

## 🎮 연습 문제

**문제 1:** **공식 이미지**는 어떤 방식으로 관리되며, 왜 신뢰할 수 있나요?

<details>
<summary><strong>정답 보기</strong></summary>

> 💡 정답: 공식 이미지는 오픈소스 프로젝트 개발팀과 도커가 함께 관리하며,
취약점 탐색을 거치고 주기적으로 업데이트됩니다.
또한 최적화된 Dockerfile을 기반으로 만들어져 있어서
안정성과 신뢰성이 보장됩니다.
</details>
<br/>

**문제 2:** **검증된 퍼블리셔**(**Verified Publisher**)는 어떤 과정을 거쳐 이미지를 배포하며,
이를 사용하는 이유는 무엇인가요?

<details>
<summary><strong>정답 보기</strong></summary>

> 💡 정답: 마이크로소프트, 오라클, IBM 등 신뢰할 수 있는 기업이
도커 허브에서 검증된 퍼블리셔로 지정되어,
취약점 탐지 등 승인 절차를 거친 뒤 이미지를 공개합니다.
이 이미지는 도커와 해당 퍼블리셔의 지원을 받을 수 있어
최신 버전을 안전하게 실행할 수 있습니다.
</details>
<br/>

**문제 3:** 공식 이미지와 골든 이미지의 차이를 간단히 말해보세요.

<details>
<summary><strong>정답 보기</strong></summary>

> 💡 정답: 관리주체가 기업이냐 오픈소스 프로젝트이냐가 가장 큰 차이점이라고 할 수 있습니다. 또한 공식 이미지는 범용적인 목적이 크지만, 골든 이미지는 조직 맞춤형을 위한 이미지라고 볼 수 있습니다.
</details>
<br/>