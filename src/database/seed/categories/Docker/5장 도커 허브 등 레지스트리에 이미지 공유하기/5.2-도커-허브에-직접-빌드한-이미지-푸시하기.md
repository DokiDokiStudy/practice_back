---
title: '도커 허브에 직접 빌드한 이미지 푸시하기'
authorNick: '관리자'
createdAt: '2025-08-27'
updateMode: 'upsert'
---

# 5.2 도커 허브에 직접 빌드한 이미지 푸시하기

4장에서 만든 `image-gallery` 이미지를 도커 허브에 올려서 다른 사람들과 공유해보겠습니다.
<br/>

## 📋 사전 준비

1. [hub.docker.com](https://hub.docker.com) 접속
2. 무료 계정 생성
3. 본인의 도커 허브 계정 이름을 기억해두세요 (예: `yangwonjun`)

<br/>

## 🚀 실습: 이미지 푸시하기

### Step 1: 환경 변수 설정

터미널을 열고 자신의 도커 허브 계정 이름을 환경 변수로 정의합니다.

**Windows (PowerShell):**

```powershell
$dockerId='도커허브계정이름'
```

**Mac / Linux:**

```bash
export dockerId='도커허브계정이름'
```

**예시:**

```bash
export dockerId='yangwonjun'
```

<br/>

### Step 2: 도커 허브에 로그인

```bash
docker login --username $dockerId
```

**실행 결과:**

```
Password: [비밀번호 입력]
Login Succeeded
```

<br/>

### Step 3: 이미지에 올바른 참조 부여하기

4장에서 빌드한 `image-gallery` 이미지는 현재 **계정 이름이 없는 상태**입니다.  
도커 허브에 푸시하려면 **본인의 계정 이름이 포함된 이미지 참조**가 필요합니다.

```bash
# 기존 이미지에 새로운 태그 추가
docker image tag image-gallery $dockerId/image-gallery:v1
```

**이미지 확인:**

```bash
docker image ls --filter reference=image-gallery --filter reference='*/image-gallery'
```

**출력 결과:**

```
REPOSITORY                 TAG       IMAGE ID       CREATED          SIZE
image-gallery              latest    49c543b748ff   44 seconds ago   26.2MB
yangwonjun/image-gallery   v1        49c543b748ff   44 seconds ago   26.2MB
```

<details>
<summary><strong>👆 왜 같은 IMAGE ID를 가질까요?</strong></summary>

두 이미지는 <strong>실제로는 같은 이미지</strong>이지만, 서로 다른 이름(참조)을 가지고 있습니다.

- `IMAGE ID`가 동일 → 같은 이미지
- 이미지 태그는 단순히 **별명(alias)** 역할
- 디스크 공간은 추가로 차지하지 않음 (참조만 추가됨)

```
image-gallery:latest        ──┐
                              ├──→ [실제 이미지: 49c543b748ff]
yangwonjun/image-gallery:v1 ──┘
```

이렇게 하면 같은 이미지를 여러 이름으로 관리할 수 있습니다!

</details>

<br/>

### Step 4: 도커 허브에 푸시

이제 계정 이름이 포함된 이미지 참조로 푸시합니다.

```bash
docker image push $dockerId/image-gallery:v1
```

**실행 결과:**

```
The push refers to repository [docker.io/yangwonjun/image-gallery]
5f70bf18a086: Pushed
e16c02e9e52b: Pushed
9bb13890319a: Pushed
f1417ff83b31: Mounted from diamol/base
v1: digest: sha256:abc123... size: 1234
```

**푸시 과정 설명:**

| 상태                   | 의미                                    |
| ---------------------- | --------------------------------------- |
| `Pushed`               | 새로운 레이어를 업로드함                |
| `Mounted from`         | 이미 도커 허브에 있는 레이어 재사용     |
| `Layer already exists` | 해당 레이어가 이미 존재함 (업로드 스킵) |

<br/>
도커는 이미지를 <strong>레이어 단위</strong>로 푸시합니다

- Alpine Linux 같은 베이스 이미지는 이미 도커 허브에 있음
- 중복된 레이어는 업로드하지 않음 (`Mounted from`)
- 변경된 레이어만 새로 업로드
- **결과:** 빠른 업로드 속도 + 저장 공간 절약

<br/>

### Step 5: 도커 허브에서 확인

1. 브라우저에서 [hub.docker.com](https://hub.docker.com) 접속
2. 로그인 후 **Repositories** 탭으로 이동
3. `image-gallery` 리포지토리 확인

<br/>

## 🏷️ 핵심 개념과 주요 명령어 정리

| 명령어                     | 설명                        | 예시                                       |
| -------------------------- | --------------------------- | ------------------------------------------ |
| `docker login`             | 레지스트리에 로그인         | `docker login --username yangwonjun`       |
| `docker image tag`         | 이미지에 새 참조(태그) 추가 | `docker tag myapp yangwonjun/myapp:v1`     |
| `docker image push`        | 레지스트리에 이미지 업로드  | `docker push yangwonjun/myapp:v1`          |
| `docker image ls --filter` | 필터링해서 이미지 목록 조회 | `docker image ls --filter reference=myapp` |

<br/>

### 이미지 참조의 구조

```
[계정명]/[이미지명]:[태그]
yangwonjun/image-gallery:v1
```

- **계정명**: 도커 허브의 본인 계정 또는 조직 이름
- **이미지명**: 이미지의 이름
- **태그**: 버전 또는 변형 구분

### 왜 계정명이 필요한가?

도커 허브는 **계정별로 이미지를 관리**하기 때문에:

- 같은 이름의 이미지를 다른 사용자가 올릴 수 있음
- 계정명으로 소유자 구분
- 예: `nginx` (공식), `yangwonjun/nginx` (개인)

<br/>

## 🎮 연습 문제

**문제 1:** 도커 허브에 이미지를 푸시하려면 이미지 참조에 반드시 포함되어야 하는 것은?

A. 레지스트리 주소 (docker.io)  
B. 본인의 계정명  
C. latest 태그  
D. 버전 번호

<details>
<summary><strong>정답 보기</strong></summary>

**정답: B**

도커 허브에 푸시하려면 `계정명/이미지명:태그` 형식이 필수입니다.
예: `yangwonjun/myapp:v1`

</details>
<br/>

**문제 2:** IMAGE ID가 같은 두 개의 이미지가 있을 때, 디스크 공간은?

A. 두 배로 차지한다  
B. 한 개만큼만 차지한다  
C. 압축되어 절반만 차지한다

<details>
<summary><strong>정답 보기</strong></summary>

**정답: B**

IMAGE ID가 같으면 같은 이미지입니다. 태그는 단순히 이름(별명)일 뿐이므로 추가 공간을 차지하지 않습니다.

</details>
