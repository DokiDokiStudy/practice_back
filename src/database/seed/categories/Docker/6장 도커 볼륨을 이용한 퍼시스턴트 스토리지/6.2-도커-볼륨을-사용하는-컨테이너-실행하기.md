---
title: '도커 볼륨을 사용하는 컨테이너 실행하기'
authorNick: '관리자'
createdAt: '2025-08-27'
updateMode: 'upsert'
---

## 볼륨

도커 볼륨은 도커에서 스토리지를 다루는 단위로 컨테이너를 위한 usb 메모리라고 생각하면 이해하기 쉽다.
볼륨은 컨테이너와 독립적으로 존재하며, 별도의 생애주기를 갖지만, 컨테이너에 연결할 수 있다.
즉 애플리케이션을 업데이트하더라도 볼륨에 연결하면 볼륨안의 데이터는 그대로 유지할 수 있는 것이다.

## 볼륨 사용 방법

```
# Dockerfile 일부

# 볼륨 생성후 컨테이너에 연결
VOLUME /data
COPY --from=builder /out/ .
```

연결된 볼륨은 **docker volume ls** 명령어로 확인해볼 수 있다.

기본적으로 도커 이미지에서 볼륨을 정의하면 컨테이너를 생성할 때마다 새로운 볼륨을 만들지만 공유하게 할 수도 있다.

```
# 볼륨 생성
docker container run --name todo2 -d diamol/ch06-todo-list

# MacOs 환경
docker container exec todo2 ls /data

# 윈도 환경
docker container exec todo2 cmd /C "dir C:\data"

# todo1의 볼륨을 공유
docker container run -d --name t3 --volumes-from todo1 diamol/ch06-todo-list
```

컨테이너 간 볼륨 공유는 업데이트 간 상태를 보존하기 위한 용도로 사용하는게 좋으며, 이미지에서 정의하는 것보다는 명시적으로 관리하는 편이 낫다.

# VOLUME과 --volume의 차이점

dockerfile 스크립트의 VOLUME 인스트럭션은 빌드된 이미지 올릴때 볼륨 지정을 안하면 매번 새로운 볼륨을 생성하고 이 볼륨은 무작위 식별자를 가지기에
볼륨을 재사용하려면 해당 무작위 식별자를 기억해야한다.

--volume플래그는 이미지에 볼륨이 지정 여부와 상관없이 지정된 볼륨을 컨테이너에 마운트한다.
이미지에 볼륨이 정의 되어있어도 무시되기에 새로운 볼륨이 생성되지않는다.
