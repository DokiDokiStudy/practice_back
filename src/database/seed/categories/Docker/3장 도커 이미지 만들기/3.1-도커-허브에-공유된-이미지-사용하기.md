---
title: '도커 허브에 공유된 이미지 사용하기'
categoryPath:
  - 'Docker'
  - '3장 도커 이미지 만들기'
  - '3.1 도커 허브에 공유된 이미지 사용하기'
authorNick: '관리자'
createdAt: '2025-08-10'
updateMode: 'upsert'
---

# 도커 허브에 공유된 이미지 사용하기

우선 이번에는 지정한 웹사이트가 노출되는지 확인하여 지정된 URL에 HTTP요청을 3초마다 보내는 동작을 컨테이너가 종료될 때까지 반복할 것 입니다.

> 이미지가 없는 경우에 도커 플랫폼에 내장된 소프트웨어 배포 기능이 내장 되어 있어 이미지를 내려받는 단계가 포함되어 있지만, 명시적으로 원하는 이미지를 내려받을 수도 있습니다.

```
docker image pull diamol/ch03-web-ping
```

> 이미지를 내려받을 때에는 우선 이미지를 찾기 위해서 이미지가 저장된 레지스트리를 찾는데, 도커가 이미지를 찾기 위해서 가장 먼저 접근하는 저장소는 도커 허브입니다. 

이미지를 내려받는 과정을 보면 여러 건의 파일을 동시에 내려받는데, 이는 단일 파일이 아닌 여러 이미지 레이어를 내려받기 때문입니다. 도커 이미지는 물리적인 작은 파일로 구성되어 있다가 도커가 이 작은 레이어들을 조립하여 컨테이너 내부 파일 시스템을 만듭니다.

> 이미지 다운이 완료되었으면 컨테이너를 실행합니다.

```
docker container run -d --name web-ping diamol/ch03-web-ping
```

아래는 새로운 플래그의 설명입니다.
- -d - --detach의 축약형 표현
- --name - 컨테이너에 명시적으로 이름을 붙여줍니다

```
docker container logs web-ping
** web-ping ** Pinging: blog.sixeyed.com; method: HEAD; 3000ms intervals
Making request number: 1; at 1758642880851
Got response status: 200 at 1758642880972; duration: 121ms
Making request number: 2; at 1758642883868
Got response status: 200 at 1758642883879; duration: 11ms
Making request number: 3; at 1758642886874
Got response status: 200 at 1758642886884; duration: 10ms
Making request number: 4; at 1758642889908
Got response status: 200 at 1758642889919; duration: 11ms
Making request number: 5; at 1758642892927
Got response status: 200 at 1758642892937; duration: 10ms
Making request number: 6; at 1758642895930
Got response status: 200 at 1758642895940; duration: 10ms
```

웹 요청을 보내고 로그를 생성하는 애플리케이션은 요청에 대한 응답 시간을 파악할 수 있게 해줍니다. 이번에는 애플리케이션에서 대상 URL, 요청간격, 요청 타입등을 설정하여 실행해보겠습니다.

## 환경 변수

**환경변수**는 운영체제에서 제공하는 키-값 쌍으로 윈도나 리눅스는 같은 방식으로 동작하고 아주 적은 양의 데이터를 저장하는데 유용합니다. 도커 컨테이너 역시 별도의 환경변수를 가질 수 있고, 컨테이너는 호스트의 환경변수가 아니라 도커 컨테이너 안에 설정된 환경변수를 사용합니다.

> 우선 이전에 실행한 컨테이너를 삭제하고 새로운 컨테이너를 실행합니다.

```
docker rm -f web-ping
web-ping
docker container run --env TARGET=google.com diamol/ch03-web-ping
** web-ping ** Pinging: google.com; method: HEAD; 3000ms intervals
Making request number: 1; at 1758643251025
Got response status: 301 at 1758643251419; duration: 394ms
Making request number: 2; at 1758643254027
Got response status: 301 at 1758643254307; duration: 280ms
Making request number: 3; at 1758643257029
Got response status: 301 at 1758643257304; duration: 275ms
```

이처럼 --env 플래그를 사용하여 컨테이너에서 사용하는 환경변수를 수정해 설정을 바꿀 수도 있습니다. 이미지를 생성할 때에 유연하게 만들게되면 이처럼 기본값 설정과 더불어 해당 기본값을 환경변수를 통해 수정하게 할 수도 있습니다.